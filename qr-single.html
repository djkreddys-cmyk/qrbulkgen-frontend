<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Generate QR — QRBulkGen</title>

<script src="https://cdn.tailwindcss.com"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>

<style>
.qrTab{padding:10px 14px;border-radius:10px;color:#374151;white-space:nowrap}
.qrTab:hover{background:#eef2ff;color:#4f46e5}
.qrTab.active{background:#4f46e5;color:white}
.btnGen{width:100%;background:#4f46e5;color:white;padding:12px;border-radius:12px}
</style>

</head>

<body class="bg-gray-100">

<header class="bg-white shadow sticky top-0 z-50">
<div class="max-w-7xl mx-auto px-6 py-4 flex justify-between items-center">
<a href="#" class="text-xl font-bold text-indigo-600">QRBulkGen</a>
</div>
</header>

<!-- TABS -->

<div class="bg-white border-b">
<div class="max-w-7xl mx-auto flex gap-4 py-3 px-4 overflow-x-auto">

<button class="qrTab active" onclick="selectType('text',this)">Text</button> <button class="qrTab" onclick="selectType('url',this)">Website</button> <button class="qrTab" onclick="selectType('phone',this)">Phone</button> <button class="qrTab" onclick="selectType('email',this)">Email</button> <button class="qrTab" onclick="selectType('wifi',this)">WiFi</button> <button class="qrTab" onclick="selectType('upi',this)">UPI</button> <button class="qrTab" onclick="selectType('location',this)">Map Location</button>

</div>
</div>

<!-- CONTENT -->

<div class="max-w-7xl mx-auto p-6 grid md:grid-cols-2 gap-8">

<div id="formArea" class="bg-white rounded-2xl shadow p-6"></div>

<div class="bg-white rounded-2xl shadow p-6 flex flex-col items-center">
<h2 class="text-xl font-semibold mb-4">Live Preview</h2>
<div id="qrcode" class="p-6 bg-white"></div>
<button onclick="downloadQR()" class="mt-6 bg-green-600 text-white px-6 py-3 rounded-xl">
Download PNG
</button>
</div>

</div>

<script>
let currentType="text";
let qr;

/* ---------- UI ---------- */
function selectType(type,el){
currentType=type;
document.querySelectorAll(".qrTab").forEach(t=>t.classList.remove("active"));
el.classList.add("active");
renderForm();
}

function input(id,placeholder){
return `<input id="${id}" placeholder="${placeholder}" class="w-full border rounded-xl p-3 mb-3" oninput="generateQR()">`;
}

/* ---------- FORM RENDER ---------- */
function renderForm(){
const a=document.getElementById("formArea");

const forms={
text:`<h2 class="text-xl font-bold mb-4">Text QR</h2>${input('data','Enter text')}`,

url:`<h2 class="text-xl font-bold mb-4">Website</h2>${input('data','https://example.com')}`,

phone:`<h2 class="text-xl font-bold mb-4">Phone</h2>${input('call','Phone Number')}`,

email:`<h2 class="text-xl font-bold mb-4">Email</h2>${input('mail','Email Address')}`,

wifi:`<h2 class="text-xl font-bold mb-4">WiFi</h2>
${input('ssid','Network Name')}
${input('pass','Password')}`,

upi:`<h2 class="text-xl font-bold mb-4">UPI Payment</h2>
${input('upi','UPI ID')}
${input('amount','Amount')}`,

location:`<h2 class="text-xl font-bold mb-4">Enter Location</h2>
<input id="address" placeholder="Shop name / address / landmark"
class="w-full border rounded-xl p-3 mb-3" oninput="generateQR()">`
};

a.innerHTML=forms[currentType];
}

/* ---------- QR GENERATOR ---------- */
function generateQR(){

let d="";

try{
switch(currentType){

case"text":
case"url":
d=data?.value||"";
break;

case"phone":
d=`tel:${call.value}`;
break;

case"email":
d=`mailto:${mail.value}`;
break;

case"wifi":
d=`WIFI:T:WPA;S:${ssid.value};P:${pass.value};;`;
break;

case"upi":
d=`upi://pay?pa=${upi.value}&am=${amount.value}`;
break;

/* OPTION 3 — OPENSTREETMAP */
case"location":
d=`https://www.openstreetmap.org/search?query=${encodeURIComponent(address.value)}`;
break;

}

createQR(d);
}catch{}
}

function createQR(text){
const c=document.getElementById("qrcode");
c.innerHTML="";
qr=new QRCode(c,{text,width:260,height:260});
}

function downloadQR(){
const img=document.querySelector("#qrcode img");
if(!img)return alert("Generate QR first");
const a=document.createElement("a");
a.href=img.src;
a.download="qr-code.png";
a.click();
}

renderForm();
</script>

</body>
</html>
