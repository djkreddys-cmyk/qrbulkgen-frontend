<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Generate QR â€” QRBulkGen</title>

<script src="https://cdn.tailwindcss.com"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>

<script src="js/auth.js"></script>

<style>
.qrTab{padding:10px 14px;border-radius:10px;color:#374151}
.qrTab:hover{background:#eef2ff;color:#4f46e5}
.qrTab.active{background:#4f46e5;color:white}
.btnGen{width:100%;background:#4f46e5;color:white;padding:12px;border-radius:12px}
</style>

</head>

<body class="bg-gray-100">

<!-- MAIN NAVBAR -->

<header class="bg-white shadow sticky top-0 z-50">
  <div class="max-w-7xl mx-auto px-6 py-4 flex justify-between items-center">

```
<a id="logoLink" href="qr-dashboard.html" class="text-xl font-bold text-indigo-600">
  QRBulkGen
</a>

<div class="flex items-center gap-6">
  <div id="navLinks" class="hidden md:flex gap-6">
    <a href="qr-single.html">Generate QR</a>
    <a href="qr-bulk.html">Bulk Upload</a>
    <a href="qr-dashboard.html">Dashboard</a>
  </div>

  <div id="navUser"></div>
</div>
```

  </div>
</header>

<!-- QR TYPE NAVBAR -->

<div class="bg-white border-b sticky top-[72px] z-40">
  <div class="max-w-7xl mx-auto px-4 overflow-x-auto">
    <div class="flex gap-6 py-3 text-sm font-medium whitespace-nowrap">
      <button onclick="selectType('text',this)" class="qrTab active">Text</button>
      <button onclick="selectType('url',this)" class="qrTab">Website</button>
      <button onclick="selectType('email',this)" class="qrTab">Email</button>
      <button onclick="selectType('phone',this)" class="qrTab">Phone</button>
      <button onclick="selectType('Location',this)" class="qrTab">Location</button>
      <button onclick="selectType('wifi',this)" class="qrTab">WiFi</button>
      <button onclick="selectType('upi',this)" class="qrTab">UPI</button>
      <button onclick="selectType('whatsapp',this)" class="qrTab">WhatsApp</button>
      <button onclick="selectType('vcard',this)" class="qrTab">Business Card</button>
      <button onclick="selectType('RestaurantMenu',this)" class="qrTab">RestaurantMenu</button>
      <button onclick="selectType('productlabel',this)" class="qrTab">Product Label</button>
      <button onclick="selectType('eventticket',this)" class="qrTab">Event Ticket</button>
    </div>
  </div>
</div>

<!-- CONTENT -->

<div class="max-w-7xl mx-auto p-6 grid md:grid-cols-2 gap-8">

  <!-- FORM -->

  <div id="formArea" class="bg-white rounded-2xl shadow p-6"></div>

  <!-- PREVIEW -->

  <div class="bg-white rounded-2xl shadow p-6 flex flex-col items-center">
    <h2 class="text-xl font-semibold mb-4">Live Preview</h2>
    <div id="qrcode" class="p-6 bg-white"></div>
    <button onclick="downloadQR()" class="mt-6 bg-green-600 text-white px-6 py-3 rounded-xl">
      Download PNG
    </button>
  </div>

</div>

<script>
let currentType="text";
let qr;

function selectType(type,el){
  currentType=type;
  document.querySelectorAll(".qrTab").forEach(t=>t.classList.remove("active"));
  el.classList.add("active");
  renderForm();
}

function renderForm(){
const area=document.getElementById("formArea");

if(currentType==="text")
area.innerHTML=`<h2 class="text-xl font-bold mb-4">Text QR</h2>
<input id="data" placeholder="Enter text" class="w-full border rounded-xl p-3 mb-4">
<button onclick="generateQR()" class="btnGen">Generate QR</button>`;

if(currentType==="url")
area.innerHTML=`<h2 class="text-xl font-bold mb-4">Website</h2>
<input id="data" placeholder="https://example.com" class="w-full border rounded-xl p-3 mb-4">
<button onclick="generateQR()" class="btnGen">Generate QR</button>`;

if(currentType==="whatsapp")
area.innerHTML=`<h2 class="text-xl font-bold mb-4">WhatsApp</h2>
<input id="phone" placeholder="Phone" class="w-full border rounded-xl p-3 mb-3">
<input id="msg" placeholder="Message" class="w-full border rounded-xl p-3 mb-4">
<button onclick="generateQR('whatsapp')" class="btnGen">Generate QR</button>`;

if(currentType==="wifi")
area.innerHTML=`<h2 class="text-xl font-bold mb-4">WiFi</h2>
<input id="ssid" placeholder="Network name" class="w-full border rounded-xl p-3 mb-3">
<input id="pass" placeholder="Password" class="w-full border rounded-xl p-3 mb-4">
<button onclick="generateQR('wifi')" class="btnGen">Generate QR</button>`;

if(currentType==="upi")
area.innerHTML=`<h2 class="text-xl font-bold mb-4">UPI</h2>
<input id="upi" placeholder="UPI ID" class="w-full border rounded-xl p-3 mb-3">
<input id="amount" placeholder="Amount" class="w-full border rounded-xl p-3 mb-4">
<button onclick="generateQR('upi')" class="btnGen">Generate QR</button>`;

if(currentType==="email")
area.innerHTML=`<h2 class="text-xl font-bold mb-4">Email</h2>
<input id="mail" placeholder="Email address" class="w-full border rounded-xl p-3 mb-3">
<input id="subject" placeholder="Subject" class="w-full border rounded-xl p-3 mb-4">
<button onclick="generateQR('email')" class="btnGen">Generate QR</button>`;

if(currentType==="phone")
area.innerHTML=`<h2 class="text-xl font-bold mb-4">Phone</h2>
<input id="call" placeholder="Phone number" class="w-full border rounded-xl p-3 mb-4">
<button onclick="generateQR('phone')" class="btnGen">Generate QR</button>`;

if(currentType==="vcard")
area.innerHTML=`<h2 class="text-xl font-bold mb-4">Business Card</h2>
<input id="name" placeholder="Name" class="w-full border rounded-xl p-3 mb-3">
<input id="org" placeholder="Company" class="w-full border rounded-xl p-3 mb-3">
<input id="tel" placeholder="Phone" class="w-full border rounded-xl p-3 mb-4">
<button onclick="generateQR('vcard')" class="btnGen">Generate QR</button>`;
}

function generateQR(mode){
let data="";

if(mode==="whatsapp")
data=`https://wa.me/${phone.value}?text=${encodeURIComponent(msg.value)}`;

else if(mode==="wifi")
data=`WIFI:T:WPA;S:${ssid.value};P:${pass.value};;`;

else if(mode==="upi")
data=`upi://pay?pa=${upi.value}&am=${amount.value}`;

else if(mode==="email")
data=`mailto:${mail.value}?subject=${subject.value}`;

else if(mode==="phone")
data=`tel:${call.value}`;

else if(mode==="vcard")
data=`BEGIN:VCARD
VERSION:3.0
FN:${name.value}
ORG:${org.value}
TEL:${tel.value}
END:VCARD`;

else
data=document.getElementById("data").value;

createQR(data);
}

function createQR(text){
const container=document.getElementById("qrcode");
container.innerHTML="";
qr=new QRCode(container,{text,width:260,height:260});
}

function downloadQR(){
const img=document.querySelector("#qrcode img");
if(!img) return alert("Generate QR first");
const a=document.createElement("a");
a.href=img.src;
a.download="qr-code.png";
a.click();
}

renderForm();
</script>

</body>
</html>

